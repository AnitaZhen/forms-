<!DOCTYPE html>
                    <html>
                        <head>
                            <meta charset="utf-8">
                            <meta http-equiv="X-UA-Compatible" content="IE=edge">
                            <meta name="viewport" content="width=device-width, initial-scale=1">
                            <meta name="description" content="">
                            <meta name="author" content="">
                            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
                                  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                            <link rel="stylesheet" href="css.css">
                            <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
                            <link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
                            <link href="css/style.css" rel="stylesheet" type="text/css" />

                            <title>CSC 642 Summer 2018 Registration form-Anita Zhen</title>
                            <script src='https://www.google.com/recaptcha/api.js'></script>
                          </head>
                        <body>
                            <!-- title of project -->
                            <h1 align="center">CSC 642 Summer 2018 Individual Assignment - Anita Zhen
                                <br>
                                Registration form</h1>

                            <form action="/register" onsubmit="return validate();" method="POST">

                                <!-- First Name -->
                                <div class="form-row">
                        <div class="form-group col-md-5">
                            <label for="col-md-4 control-label">First Name<span class="error">*</label>
                            <input  type="text"  name="firstname" pattern="[A-Za-z\s]+"
                                    maxlength="40" minlength="2"   id="col-md-4 control-label" class="form-control" placeholder="First Name" required autocomplete="name"/>
                        </div>
                    </div>


                                <!-- Last Name -->
                                <div class="form-row">
                        <div class="form-group col-md-5">
                            <label class="col-md-4 control-label" >Last Name<span class="error">*</label>
                            <input type="text" name="lastname" pattern="[A-Za-z\s]+"
                                   maxlength="40" minlength="2" placeholder="Last Name" class="form-control"  type="text" required>
                        </div>
                    </div>

                                <!-- Location: Address -->
                                <div class="form-row">
                                    <div class="form-group col-md-5">
                                    <label for="col-md-4 control-label">Address<span class="error">*</label>
                                    <input id="autocomplete" onFocus="geolocate()" type="text" name="address" class="form-control" placeholder="1234 Main Street San Francisco CA 94112 United States" required>

                                </div>

                                <table id="address">
                                    <tr>
                                        <td class="label">Street address</td>
                                        <td class="slimField"><input class="field" id="street_number"
                                                                     disabled="true" required></input></td>
                                        <td class="wideField" colspan="2"><input class="field" id="route"
                                                                                 disabled="true" required></input></td>
                                    </tr>
                                    <tr>
                                        <td class="label">City<span class="error">*</td>
                                        <!-- Note: Selection of address components in this example is typical.
                                             You may need to adjust it for the locations relevant to your app. See
                                             https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform
                                        -->
                                        <td class="wideField" colspan="3"><input class="field" id="locality"
                                                                                 disabled="true" name="city" required></input></td>
                                    </tr>
                                    <tr>
                                        <td class="label">State<span class="error">*</td>
                                        <td class="slimField"><input class="field"
                                                                     id="administrative_area_level_1" disabled="true" name="state" required></input></td>
                                        <td class="label" id="zipcode">Zip code<span class="error">*</td>
                                        <td class="wideField"><input class="field" id="postal_code"
                                                                     disabled="true" name='zipcode'required></input></td>
                                    </tr>
                                    <tr>
                                        <td class="label">Country</td>
                                        <td class="wideField" colspan="3"><input class="field"
                                                                                 id="country" disabled="true" required></input></td>
                                    </tr>
                                </table>

                                <!-- Education option-->
                                <div class="form-row">
                                    <div class="form-group">
                                        <div class="col-md-8">
                                            <label for="Education Level">Education Level</label>
                                            <select class="form-control" id="exampleFormControlSelect1" name="education">
                                            <option>Select one...</option>
                                                <option>High School</option>
                                                <option>College</option>
                                                <option>Graduate Studies</option>
                                                <option>PH.D</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>


                                <!-- Income option -->
                                <div class="form-row">
                                    <div class="form-group">
                                        <div class="col-md-8">
                                            <label for="Income (yearly)"><div></div><br>Income (yearly)</label>
                                            <select class="form-control" id="exampleFormControlSelect1" name="income">
                                                <option>Select one...</option>
                                                <option>Less than $50K</option>
                                                <option>Between $50-100K</option>
                                                <option>Above $100K</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                                <!-- Phone Number -->
                                <form class="form- left-aligned" >
                        <div class="form-row">
                            <div class="col-md-5">
                                <label class="Phone control-label" ><br>Phone (10 digit)<span class="error">*</label>
                                <input type="text" name = "phone" pattern="[0-9]{10}" class="form-control" id="Phone" placeholder="0000000000" maxlength="10" required>
                            </div>
                        </div>

                                <!--Email-->
                                <div class="form-row">
                            <div class="form-group col-md-5">
                                <label class="inputEmail4 control-label" ><br>Email</label>
                                <input type="email" name="email" class="form-control" id="inputEmail4" placeholder="Enter a valid email address" maxlength="40">
                            </div>
                        </div>

                                <!-- Password-->
                                <form ... onsubmit="return checkForm(this);">

                                    <!-- <div class="form-group"> -->
                                    <div class="form-row">
                                        <div class="form-group col-md-8">
                                            <label for="pwd">Password<span class="error">*</label>
                                            <input type="password" name="pwd1"><input title="Password must contain at least 6 characters, including UPPER/lowercase and numbers" type="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" name="pwd1" onchange="
                                                                          this.setCustomValidity(this.validity.patternMismatch ? this.title : '');
                                                                            if(this.checkValidity()) form.pwd2.pattern = RegExp.escape(this.value);
                                                                                      " placeholder="Enter password" class="form-control">
                                        </div>
                                    </div>
                                    </div>
                                    </div>

                                    <!-- Confirm Password -->
                                    <div class="form-row">
                                        <div class="form-group">
                                            <div class="form-row">
                                                <div class="form-group col-md-8">
                                                    <label for="inputConfirmPassword">Confirm Password<span class="error">*</label>
                                                    <!-- <input type="password" required name="pwd2" title="Password doesnt match" id="inputPassword5" placeholder="Confirm Password" class="form-control" aria-describedby="passwordHelpBlock" name="confirmPassword" data-match="#confirmPassword" data-minLength="5"
                                                           data-match-error="some error 2" required> -->
                                                    <input title="Please enter the same Password as above" type="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" name="pwd2" onchange="
                                                                                 this.setCustomValidity(this.validity.patternMismatch ? this.title : '');" placeholder="Confirm Password" class="form-control">
                                                    <span class="help-block with-errors"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!--I agree to terms-->

                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <label class="col-md-4 control-label" style="text-align:left;">Terms and Conditions: <span class="error">*</label>
                                            <div class="input-group">
                                                <p><input type="checkbox" name="terms" value="check" id="terms"/required> I have read and agree to the
                                                    <a href="termsandcondition.html" target="">Terms and Conditions</a>. </p>
                                            </div>
                                        </div>

                                        <!--Captcha-->
                                        <div class="g-recaptcha" data-sitekey="6LcuU2cUAAAAAKj1fcU2pE7z_SIJ7jyp7pTlk0jc"></div>

                                        <!-- Submit Button -->
                                        <div class="col-md-6">
                                            <div class="form-row">
                                                <label class="col-md-4 control-label"></label>
                                                <button type='submit' id="myButton" class="float-left submit-button" >Submit</button>
                                            </div>
                                        </div>
                                        <div></div><br></br>
                                        <script type="text/javascript" src="js/form.js"></script>

                                        <div></div><br></br>
                                </form>

                                <script>
// This example displays an address form, using the autocomplete feature
// of the Google Places API to help users fill in the information.
// This example requires the Places library. Include the libraries=places
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
var placeSearch, autocomplete;
var componentForm = {
street_number: 'short_name',
route: 'long_name',
locality: 'long_name',
administrative_area_level_1: 'short_name',
country: 'long_name',
postal_code: 'short_name'
};
function initAutocomplete() {
// Create the autocomplete object, restricting the search to geographical
// location types.
autocomplete = new google.maps.places.Autocomplete(
/** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
{types: ['geocode']});
// When the user selects an address from the dropdown, populate the address
// fields in the form.
autocomplete.addListener('place_changed', fillInAddress);
}
function fillInAddress() {
// Get the place details from the autocomplete object.
var place = autocomplete.getPlace();
for (var component in componentForm) {
document.getElementById(component).value = '';
document.getElementById(component).disabled = false;
}
// Get each component of the address from the place details
// and fill the corresponding field on the form.
for (var i = 0; i < place.address_components.length; i++) {
var addressType = place.address_components[i].types[0];
if (componentForm[addressType]) {
var val = place.address_components[i][componentForm[addressType]];
document.getElementById(addressType).value = val;
}
}
}
// Bias the autocomplete object to the user's geographical location,
// as supplied by the browser's 'navigator.geolocation' object.
function geolocate() {
if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(function(position) {
var geolocation = {
lat: position.coords.latitude,
lng: position.coords.longitude
};
var circle = new google.maps.Circle({
center: geolocation,
radius: position.coords.accuracy
});
autocomplete.setBounds(circle.getBounds());
});
}
}
                                </script>
                                <!--google api link-->

                                <script>

                               document.getElementById('postal_code').onkeyup = ()=> {
                                var zipcode = document.getElementById('postal_code').value
                                var error = false;
                                      for(var i=0; i < zipcode.length; i++) {
                                         if(isNaN(parseInt(zipcode[i])) || zipcode.length !== 5)
                                          error = true;
                                    }

                               if(error) document.getElementById('zipcode').style.color = 'red'
                                if(!error) document.getElementById('zipcode').style.color = 'black'
                          }
                                </script>
                        </body>
                    </html>
